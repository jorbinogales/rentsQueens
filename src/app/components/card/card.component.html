<div class="card mt-3">
    
    <div class="progress" *ngIf="loading">
        <div class="progress-bar bg-danger progress-bar-indeterminate" role="progressbar"></div>
    </div>
    
    <div class="card-body p-2" 
        [routerLink]="['', 'home', departament.id]"
        [ngClass]="departament.status == 0 ? 'opacity-5' : ''" >
        <strong>{{ departament.title }}</strong>
        <p>{{ departament.address }}</p>
        <p *ngIf="departament.subcity_value" class="badge badge-danger">{{ departament.subcity_value.city_value.name }} - {{ departament.subcity_value.name }}</p>
        <div class="row p-0 m-0">
            <div class="col-12 col-lg-7 p-0 m-0">
                <img 
                *ngIf="departament.image_values.length > 0"
                class="w-100 m-auto card-image"
                style="background: url('{{url+'/'+departament.image_values[0].image}}')">

                <img
                *ngIf="departament.image_values.length == 0"
                class="w-100 m-auto card-image"
                style="background: url('https://reactnativecode.com/wp-content/uploads/2018/02/Default_Image_Thumbnail.png')"
                >
                <strong class="mt-2 d-block">Posted: {{ departament.created_at | date: 'yyyy-MM-dd h:mm a'}}</strong>
            </div>
            <div class="col-12 col-lg-5 p-2 m-0">
                <h4 class="m-0">${{ departament.price }}</h4>
                <p>ID N. {{ departament.id }}</p>
                <ul class="m-0 p-0">
                    <li>
                        <img class="icon-card" src="assets/icons/room-icon.png">
                        <span class="ml-3" *ngIf="departament.bedrooms != 'full_house'">
                            {{departament.bedrooms }} Bedrooms
                        </span>              
                        <span class="ml-3" *ngIf="departament.bedrooms == 'full_house'">
                            Full House
                        </span>  
                    </li>
                    <li *ngIf="departament.credit">
                        <img class="icon-card" src="assets/icons/credit-icon.png">
                        <span class="ml-3">
                            Credit
                        </span>
                    </li>
                    <li>
                        <img class="icon-card" src="assets/icons/bathroom-icon.png">
                        <span class="ml-3" *ngIf="departament.bathrooms != 'more_than_3'">
                            {{departament.bathrooms }} Bathrooms
                        </span>
                        <span class="ml-3" *ngIf="departament.bathrooms == 'more_than_3'">
                         More 3 Baths
                        </span>
                    </li>
                    <li *ngIf="departament.parking">
                        <img class="icon-card" src="assets/icons/garage-icon.png">
                        <span class="ml-3">
                            Parking
                        </span>
                    </li>
                    <li *ngIf="departament.pets">
                        <span class="material-icons">
                            pets
                        </span>
                        <span class="ml-3">Pets</span>
                    </li>
                    <li *ngIf="departament.train_value">
                        <span class="material-icons">
                            train
                        </span>
                        <span class="ml-3">{{ departament.train_value.code }} | {{ departament.train_value.city }}</span>
                    </li>
                </ul>
            </div>
        </div>
        <p *ngIf="departament.description">{{ departament.description }}</p>
    </div>
</div>
<div class="row" *ngIf="session">
    <div class="col-4">
        <button 
        (click)="changeStatus(departament.id)"
        class="btn btn-danger mt-2 d-block w-100" 
        *ngIf="departament.status == 1"
        [ngClass]="visibleBtn === true ? 'disabled' : ''">
            <span class="material-icons">
                visibility_off
            </span>
            Hidden
        </button>
        <button 
        (click)="changeStatus(departament.id)"
        class="btn btn-gray mt-2 d-block w-100" 
        *ngIf="departament.status == 0"
        [ngClass]="visibleBtn === true ? 'disabled' : ''">
            <span class="material-icons">
                visibility
            </span>
            Show
        </button>
    </div>
    <div class="col-4">
        <button 
        [ngClass]="deleteBtn === true ? 'disabled' : ''"
        (click)="deleteDepartament(departament.id)"
        class="btn btn-danger mt-2 d-block w-100">
            <span class="material-icons">
                delete
            </span>
            Delete
        </button>
    </div>
    <div class="col-4">
        <button 
        class="btn btn-danger mt-2 d-block w-100"
        [routerLink]="['','dashboard', 'edit-apartament', departament.id]">
            <span class="material-icons">
                edit
            </span>
            Edit
        </button>
    </div>
</div>
